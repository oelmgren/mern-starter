{"version":3,"sources":["Header.spec.js"],"names":["intlProp","intl","enabledLanguages","router","isActive","sinon","stub","returns","wrapper","context","t","truthy","find","first","containsMatchingElement","is","length","toggleAddPost","spy","simulate","calledOnce"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,sCAAgBC,yBAAhB,IAAsBC,kBAAkB,CAAC,IAAD,EAAO,IAAP,CAAxC,GAAN;;AAEA,mBAAK,6BAAL,EAAoC,aAAK;AAAA;AAAA;;AACvC,MAAMC,SAAS;AACbC,cAAUC,gBAAMC,IAAN,GAAaC,OAAb,CAAqB,IAArB;AADG,GAAf;AAGA,MAAMC,UAAU,qBACd,8BAAC,cAAD,IAAQ,gBAAgB,0BAAM,CAAE,CAAhC,EAAkC,MAAMR,QAAxC,EAAkD,eAAe,yBAAM,CAAE,CAAzE,GADc,EAEd;AACES,aAAS;AACPN,oBADO;AAEPF;AAFO;AADX,GAFc,CAAhB;;AAUAS,IAAEC,MAAF,uBAAS,mGAAQC,IAAR,CAAa,MAAb,8CAAqBC,KAArB,iCAA6BC,uBAA7B,CAAqD,8BAAC,2BAAD,IAAkB,IAAG,WAArB,GAArD,CAAT;AAAA;AAAA;AAAA;AAAA;AACAJ,IAAEK,EAAF,yBAAK,qEAAQH,IAAR,CAAa,GAAb,yBAAkBI,MAAvB;AAAA;AAAA;AAAA;AAAA,MAA+B,CAA/B;AACD,CAhBD;;AAkBA,mBAAK,4CAAL,EAAmD,aAAK;AAAA;;AACtD,MAAMb,SAAS;AACbC,cAAUC,gBAAMC,IAAN,GAAaC,OAAb,CAAqB,KAArB;AADG,GAAf;AAGA,MAAMC,UAAU,qBACd,8BAAC,cAAD,IAAQ,gBAAgB,0BAAM,CAAE,CAAhC,EAAkC,MAAMR,QAAxC,EAAkD,eAAe,yBAAM,CAAE,CAAzE,GADc,EAEd;AACES,aAAS;AACPN,oBADO;AAEPF;AAFO;AADX,GAFc,CAAhB;;AAUAS,IAAEK,EAAF,yBAAK,qEAAQH,IAAR,CAAa,GAAb,yBAAkBI,MAAvB;AAAA;AAAA;AAAA;AAAA,MAA+B,CAA/B;AACD,CAfD;;AAiBA,mBAAK,+BAAL,EAAsC,aAAK;AAAA;;AACzC,MAAMb,SAAS;AACbC,cAAUC,gBAAMC,IAAN,GAAaC,OAAb,CAAqB,IAArB;AADG,GAAf;AAGA,MAAMU,gBAAgBZ,gBAAMa,GAAN,EAAtB;AACA,MAAMV,UAAU,qBACd,8BAAC,cAAD,IAAQ,gBAAgB,0BAAM,CAAE,CAAhC,EAAkC,MAAMR,QAAxC,EAAkD,eAAeiB,aAAjE,GADc,EAEd;AACER,aAAS;AACPN,oBADO;AAEPF;AAFO;AADX,GAFc,CAAhB;;AAUAO,UAAQI,IAAR,CAAa,GAAb,EAAkBC,KAAlB,GAA0BM,QAA1B,CAAmC,OAAnC;AACAT,IAAEC,MAAF,yBAAS,iDAAcS,UAAvB;AAAA;AAAA;AAAA;AAAA;AACD,CAjBD;;;;;;;;gCArCMpB,Q","file":"Header.spec.js","sourcesContent":["import React from 'react';\nimport test from 'ava';\nimport sinon from 'sinon';\nimport { shallow } from 'enzyme';\nimport { FormattedMessage } from 'react-intl';\nimport { Header } from '../../components/Header/Header';\nimport { intl } from '../../../../util/react-intl-test-helper';\n\nconst intlProp = { ...intl, enabledLanguages: ['en', 'fr'] };\n\ntest('renders the header properly', t => {\n  const router = {\n    isActive: sinon.stub().returns(true),\n  };\n  const wrapper = shallow(\n    <Header switchLanguage={() => {}} intl={intlProp} toggleAddPost={() => {}} />,\n    {\n      context: {\n        router,\n        intl,\n      },\n    }\n  );\n\n  t.truthy(wrapper.find('Link').first().containsMatchingElement(<FormattedMessage id=\"siteTitle\" />));\n  t.is(wrapper.find('a').length, 1);\n});\n\ntest('doesn\\'t add post in pages other than home', t => {\n  const router = {\n    isActive: sinon.stub().returns(false),\n  };\n  const wrapper = shallow(\n    <Header switchLanguage={() => {}} intl={intlProp} toggleAddPost={() => {}} />,\n    {\n      context: {\n        router,\n        intl,\n      },\n    }\n  );\n\n  t.is(wrapper.find('a').length, 0);\n});\n\ntest('toggleAddPost called properly', t => {\n  const router = {\n    isActive: sinon.stub().returns(true),\n  };\n  const toggleAddPost = sinon.spy();\n  const wrapper = shallow(\n    <Header switchLanguage={() => {}} intl={intlProp} toggleAddPost={toggleAddPost} />,\n    {\n      context: {\n        router,\n        intl,\n      },\n    }\n  );\n\n  wrapper.find('a').first().simulate('click');\n  t.truthy(toggleAddPost.calledOnce);\n});\n"]}