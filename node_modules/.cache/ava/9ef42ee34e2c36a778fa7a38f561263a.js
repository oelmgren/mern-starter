'use strict';

var _extends2 = require('/Users/ollieelmgren/Desktop/coding_challenge/node_modules/babel-runtime/helpers/extends.js');

var _extends3 = _interopRequireDefault(_extends2);

var _powerAssertRecorder = function () { function PowerAssertRecorder() { this.captured = []; } PowerAssertRecorder.prototype._capt = function _capt(value, espath) { this.captured.push({ value: value, espath: espath }); return value; }; PowerAssertRecorder.prototype._expr = function _expr(value, source) { var capturedValues = this.captured; this.captured = []; return { powerAssertContext: { value: value, events: capturedValues }, source: source }; }; return PowerAssertRecorder; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _enzyme = require('enzyme');

var _reactIntl = require('react-intl');

var _Header = require('../../components/Header/Header');

var _reactIntlTestHelper = require('../../../../util/react-intl-test-helper');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var intlProp = (0, _extends3.default)({}, _reactIntlTestHelper.intl, { enabledLanguages: ['en', 'fr'] });

(0, _ava2.default)('renders the header properly', function (t) {
  var _rec = new _powerAssertRecorder(),
      _rec2 = new _powerAssertRecorder();

  var router = {
    isActive: _sinon2.default.stub().returns(true)
  };
  var wrapper = (0, _enzyme.shallow)(_react2.default.createElement(_Header.Header, { switchLanguage: function switchLanguage() {}, intl: intlProp, toggleAddPost: function toggleAddPost() {} }), {
    context: {
      router: router,
      intl: _reactIntlTestHelper.intl
    }
  });

  t.truthy(_rec._expr(_rec._capt(_rec._capt(_rec._capt(_rec._capt(wrapper, 'arguments/0/callee/object/callee/object/callee/object').find('Link'), 'arguments/0/callee/object/callee/object').first(), 'arguments/0/callee/object').containsMatchingElement(_react2.default.createElement(_reactIntl.FormattedMessage, { id: 'siteTitle' })), 'arguments/0'), {
    content: 't.truthy(wrapper.find(\'Link\').first().containsMatchingElement(<FormattedMessage id="siteTitle" />))',
    filepath: 'client/modules/App/__tests__/Components/Header.spec.js',
    line: 25
  }));
  t.is(_rec2._expr(_rec2._capt(_rec2._capt(_rec2._capt(wrapper, 'arguments/0/object/callee/object').find('a'), 'arguments/0/object').length, 'arguments/0'), {
    content: 't.is(wrapper.find(\'a\').length, 1)',
    filepath: 'client/modules/App/__tests__/Components/Header.spec.js',
    line: 26
  }), 1);
});

(0, _ava2.default)('doesn\'t add post in pages other than home', function (t) {
  var _rec3 = new _powerAssertRecorder();

  var router = {
    isActive: _sinon2.default.stub().returns(false)
  };
  var wrapper = (0, _enzyme.shallow)(_react2.default.createElement(_Header.Header, { switchLanguage: function switchLanguage() {}, intl: intlProp, toggleAddPost: function toggleAddPost() {} }), {
    context: {
      router: router,
      intl: _reactIntlTestHelper.intl
    }
  });

  t.is(_rec3._expr(_rec3._capt(_rec3._capt(_rec3._capt(wrapper, 'arguments/0/object/callee/object').find('a'), 'arguments/0/object').length, 'arguments/0'), {
    content: 't.is(wrapper.find(\'a\').length, 0)',
    filepath: 'client/modules/App/__tests__/Components/Header.spec.js',
    line: 43
  }), 0);
});

(0, _ava2.default)('toggleAddPost called properly', function (t) {
  var _rec4 = new _powerAssertRecorder();

  var router = {
    isActive: _sinon2.default.stub().returns(true)
  };
  var toggleAddPost = _sinon2.default.spy();
  var wrapper = (0, _enzyme.shallow)(_react2.default.createElement(_Header.Header, { switchLanguage: function switchLanguage() {}, intl: intlProp, toggleAddPost: toggleAddPost }), {
    context: {
      router: router,
      intl: _reactIntlTestHelper.intl
    }
  });

  wrapper.find('a').first().simulate('click');
  t.truthy(_rec4._expr(_rec4._capt(_rec4._capt(toggleAddPost, 'arguments/0/object').calledOnce, 'arguments/0'), {
    content: 't.truthy(toggleAddPost.calledOnce)',
    filepath: 'client/modules/App/__tests__/Components/Header.spec.js',
    line: 62
  }));
});
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(intlProp, 'intlProp', '/Users/ollieelmgren/Desktop/coding_challenge/client/modules/App/__tests__/Components/Header.spec.js');

  __REACT_HOT_LOADER__.register(_powerAssertRecorder, '_powerAssertRecorder', '/Users/ollieelmgren/Desktop/coding_challenge/client/modules/App/__tests__/Components/Header.spec.js');
}();

;
//# sourceMappingURL=../../../../../node_modules/.cache/ava/9ef42ee34e2c36a778fa7a38f561263a.js.map