'use strict';

var _extends2 = require('/Users/ollieelmgren/Desktop/coding_challenge/node_modules/babel-runtime/helpers/extends.js');

var _extends3 = _interopRequireDefault(_extends2);

var _powerAssertRecorder = function () { function PowerAssertRecorder() { this.captured = []; } PowerAssertRecorder.prototype._capt = function _capt(value, espath) { this.captured.push({ value: value, espath: espath }); return value; }; PowerAssertRecorder.prototype._expr = function _expr(value, source) { var capturedValues = this.captured; this.captured = []; return { powerAssertContext: { value: value, events: capturedValues }, source: source }; }; return PowerAssertRecorder; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _enzyme = require('enzyme');

var _App = require('../App');

var _App2 = require('../App.css');

var _App3 = _interopRequireDefault(_App2);

var _reactIntl = require('react-intl');

var _reactIntlTestHelper = require('../../../util/react-intl-test-helper');

var _AppActions = require('../AppActions');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var intlProp = (0, _extends3.default)({}, _reactIntlTestHelper.intl, { enabledLanguages: ['en', 'fr'] });
var children = _react2.default.createElement(
  'h1',
  null,
  'Test'
);
var dispatch = _sinon2.default.spy();
var props = {
  children: children,
  dispatch: dispatch,
  intl: intlProp
};

(0, _ava2.default)('renders properly', function (t) {
  var _rec = new _powerAssertRecorder(),
      _rec2 = new _powerAssertRecorder(),
      _rec3 = new _powerAssertRecorder(),
      _rec4 = new _powerAssertRecorder(),
      _rec5 = new _powerAssertRecorder(),
      _rec6 = new _powerAssertRecorder();

  var wrapper = (0, _enzyme.shallow)(_react2.default.createElement(_App.App, props));

  // t.is(wrapper.find('Helmet').length, 1);
  t.is(_rec._expr(_rec._capt(_rec._capt(_rec._capt(wrapper, 'arguments/0/object/callee/object').find('Header'), 'arguments/0/object').length, 'arguments/0'), {
    content: 't.is(wrapper.find(\'Header\').length, 1)',
    filepath: 'client/modules/App/__tests__/App.spec.js',
    line: 27
  }), 1);
  t.is(_rec2._expr(_rec2._capt(_rec2._capt(_rec2._capt(wrapper, 'arguments/0/object/callee/object').find('Footer'), 'arguments/0/object').length, 'arguments/0'), {
    content: 't.is(wrapper.find(\'Footer\').length, 1)',
    filepath: 'client/modules/App/__tests__/App.spec.js',
    line: 28
  }), 1);
  t.is(_rec3._expr(_rec3._capt(_rec3._capt(_rec3._capt(wrapper, 'arguments/0/callee/object/callee/object').find('Header'), 'arguments/0/callee/object').prop('toggleAddPost'), 'arguments/0'), {
    content: 't.is(wrapper.find(\'Header\').prop(\'toggleAddPost\'), wrapper.instance().toggleAddPostSection)',
    filepath: 'client/modules/App/__tests__/App.spec.js',
    line: 29
  }), _rec4._expr(_rec4._capt(_rec4._capt(_rec4._capt(wrapper, 'arguments/1/object/callee/object').instance(), 'arguments/1/object').toggleAddPostSection, 'arguments/1'), {
    content: 't.is(wrapper.find(\'Header\').prop(\'toggleAddPost\'), wrapper.instance().toggleAddPostSection)',
    filepath: 'client/modules/App/__tests__/App.spec.js',
    line: 29
  }));
  t.truthy(_rec5._expr(_rec5._capt(_rec5._capt(_rec5._capt(wrapper, 'arguments/0/callee/object/callee/object').find('Header + div'), 'arguments/0/callee/object').hasClass(_rec5._capt(_rec5._capt(_App3.default, 'arguments/0/arguments/0/object').container, 'arguments/0/arguments/0')), 'arguments/0'), {
    content: 't.truthy(wrapper.find(\'Header + div\').hasClass(styles.container))',
    filepath: 'client/modules/App/__tests__/App.spec.js',
    line: 30
  }));
  t.truthy(_rec6._expr(_rec6._capt(_rec6._capt(_rec6._capt(wrapper, 'arguments/0/callee/object/callee/object').find('Header + div'), 'arguments/0/callee/object').children(), 'arguments/0'), {
    content: 't.truthy(wrapper.find(\'Header + div\').children(), children)',
    filepath: 'client/modules/App/__tests__/App.spec.js',
    line: 31
  }), children);
});

(0, _ava2.default)('calls componentDidMount', function (t) {
  var _rec7 = new _powerAssertRecorder();

  _sinon2.default.spy(_App.App.prototype, 'componentDidMount');
  (0, _enzyme.mount)(_react2.default.createElement(_App.App, props), {
    context: {
      router: {
        isActive: _sinon2.default.stub().returns(true),
        push: _sinon2.default.stub(),
        replace: _sinon2.default.stub(),
        go: _sinon2.default.stub(),
        goBack: _sinon2.default.stub(),
        goForward: _sinon2.default.stub(),
        setRouteLeaveHook: _sinon2.default.stub(),
        createHref: _sinon2.default.stub()
      },
      intl: _reactIntlTestHelper.intl
    },
    childContextTypes: {
      router: _propTypes2.default.object,
      intl: _reactIntl.intlShape
    }
  });

  t.truthy(_rec7._expr(_rec7._capt(_rec7._capt(_rec7._capt(_rec7._capt(_App.App, 'arguments/0/object/object/object').prototype, 'arguments/0/object/object').componentDidMount, 'arguments/0/object').calledOnce, 'arguments/0'), {
    content: 't.truthy(App.prototype.componentDidMount.calledOnce)',
    filepath: 'client/modules/App/__tests__/App.spec.js',
    line: 59
  }));
  _App.App.prototype.componentDidMount.restore();
});

(0, _ava2.default)('calling toggleAddPostSection dispatches toggleAddPost', function (t) {
  var _rec8 = new _powerAssertRecorder(),
      _rec9 = new _powerAssertRecorder();

  var wrapper = (0, _enzyme.shallow)(_react2.default.createElement(_App.App, props));

  wrapper.instance().toggleAddPostSection();
  t.truthy(_rec8._expr(_rec8._capt(_rec8._capt(dispatch, 'arguments/0/object').calledOnce, 'arguments/0'), {
    content: 't.truthy(dispatch.calledOnce)',
    filepath: 'client/modules/App/__tests__/App.spec.js',
    line: 69
  }));
  t.truthy(_rec9._expr(_rec9._capt(_rec9._capt(dispatch, 'arguments/0/callee/object').calledWith(_rec9._capt((0, _AppActions.toggleAddPost)(), 'arguments/0/arguments/0')), 'arguments/0'), {
    content: 't.truthy(dispatch.calledWith(toggleAddPost()))',
    filepath: 'client/modules/App/__tests__/App.spec.js',
    line: 70
  }));
});
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(intlProp, 'intlProp', '/Users/ollieelmgren/Desktop/coding_challenge/client/modules/App/__tests__/App.spec.js');

  __REACT_HOT_LOADER__.register(children, 'children', '/Users/ollieelmgren/Desktop/coding_challenge/client/modules/App/__tests__/App.spec.js');

  __REACT_HOT_LOADER__.register(dispatch, 'dispatch', '/Users/ollieelmgren/Desktop/coding_challenge/client/modules/App/__tests__/App.spec.js');

  __REACT_HOT_LOADER__.register(props, 'props', '/Users/ollieelmgren/Desktop/coding_challenge/client/modules/App/__tests__/App.spec.js');

  __REACT_HOT_LOADER__.register(_powerAssertRecorder, '_powerAssertRecorder', '/Users/ollieelmgren/Desktop/coding_challenge/client/modules/App/__tests__/App.spec.js');
}();

;
//# sourceMappingURL=../../../../node_modules/.cache/ava/0641ead7a6bc206fd3d4473c0f8c7f4c.js.map