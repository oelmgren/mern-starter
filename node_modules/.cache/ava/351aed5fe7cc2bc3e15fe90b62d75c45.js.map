{"version":3,"sources":["PostListItem.spec.js"],"names":["post","name","title","slug","cuid","content","props","onDelete","wrapper","t","truthy","hasClass","is","find","first","prop","regex","text","RegExp","deepEqual","onClick","sinon","spy","simulate","calledOnce"],"mappings":";;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,IAAMA,OAAO,EAAEC,MAAM,UAAR,EAAoBC,OAAO,YAA3B,EAAyCC,MAAM,YAA/C,EAA6DC,MAAM,iBAAnE,EAAsFC,SAAS,uBAA/F,EAAb;AACA,IAAMC,QAAQ;AACZN,YADY;AAEZO,YAAU,oBAAM,CAAE;AAFN,CAAd;;AAKA,mBAAK,kBAAL,EAAyB,aAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAC5B,MAAMC,UAAU,0CACd,8BAAC,sBAAD,EAAkBF,KAAlB,CADc,CAAhB;;AAIAG,IAAEC,MAAF,uBAAS,iDAAQC,QAAR,CAAiB,aAAjB,CAAT;AAAA;AAAA;AAAA;AAAA;AACAF,IAAEG,EAAF,yBAAK,sGAAQC,IAAR,CAAa,MAAb,8CAAqBC,KAArB,iCAA6BC,IAA7B,CAAkC,UAAlC,CAAL;AAAA;AAAA;AAAA;AAAA,8BAAoD,wCAAKb,KAAzD;AAAA;AAAA;AAAA;AAAA;AACAO,IAAEO,KAAF,yBAAQ,sGAAQH,IAAR,CAAa,cAAb,8CAA6BC,KAA7B,iCAAqCG,IAArC,EAAR;AAAA;AAAA;AAAA;AAAA,8BAAqD,IAAIC,MAAJ,aAAW,oDAAKjB,IAAhB,6BAArD;AAAA;AAAA;AAAA;AAAA;AACAQ,IAAEG,EAAF,yBAAK,sGAAQC,IAAR,CAAa,YAAb,8CAA2BC,KAA3B,iCAAmCG,IAAnC,EAAL;AAAA;AAAA;AAAA;AAAA,8BAAgD,wCAAKZ,OAArD;AAAA;AAAA;AAAA;AAAA;AACD,CATD;;AAWA,mBAAK,mBAAL,EAA0B,aAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAC7B,MAAMG,UAAU,wCACd,8BAAC,sBAAD,EAAkBF,KAAlB,CADc,CAAhB;;AAIAG,IAAEU,SAAF,yBAAY,kDAAQJ,IAAR,CAAa,MAAb,CAAZ;AAAA;AAAA;AAAA;AAAA,8BAAkC,yCAAMf,IAAxC;AAAA;AAAA;AAAA;AAAA;AACAS,IAAEG,EAAF,2BAAK,mDAAQG,IAAR,CAAa,SAAb,CAAL;AAAA;AAAA;AAAA;AAAA,gCAA8B,0CAAMK,OAApC;AAAA;AAAA;AAAA;AAAA;AACAX,IAAEG,EAAF,2BAAK,mDAAQG,IAAR,CAAa,UAAb,CAAL;AAAA;AAAA;AAAA;AAAA,gCAA+B,0CAAMR,QAArC;AAAA;AAAA;AAAA;AAAA;AACD,CARD;;AAUA,mBAAK,gBAAL,EAAuB,aAAK;AAAA;;AAC1B,MAAMA,WAAWc,gBAAMC,GAAN,EAAjB;AACA,MAAMd,UAAU,0CACd,8BAAC,sBAAD,IAAc,MAAMR,IAApB,EAA0B,UAAUO,QAApC,GADc,CAAhB;;AAIAC,UAAQK,IAAR,CAAa,kBAAb,EAAiCC,KAAjC,GAAyCS,QAAzC,CAAkD,OAAlD;AACAd,IAAEC,MAAF,2BAAS,6CAASc,UAAlB;AAAA;AAAA;AAAA;AAAA;AACD,CARD;;;;;;;;gCA3BMxB,I;;gCACAM,K","file":"PostListItem.spec.js","sourcesContent":["import React from 'react';\nimport test from 'ava';\nimport sinon from 'sinon';\nimport PostListItem from '../../components/PostListItem/PostListItem';\nimport { mountWithIntl, shallowWithIntl } from '../../../../util/react-intl-test-helper';\n\nconst post = { name: 'Prashant', title: 'Hello Mern', slug: 'hello-mern', cuid: 'f34gb2bh24b24b2', content: \"All cats meow 'mern!'\" };\nconst props = {\n  post,\n  onDelete: () => {},\n};\n\ntest('renders properly', t => {\n  const wrapper = shallowWithIntl(\n    <PostListItem {...props} />\n  );\n\n  t.truthy(wrapper.hasClass('single-post'));\n  t.is(wrapper.find('Link').first().prop('children'), post.title);\n  t.regex(wrapper.find('.author-name').first().text(), new RegExp(post.name));\n  t.is(wrapper.find('.post-desc').first().text(), post.content);\n});\n\ntest('has correct props', t => {\n  const wrapper = mountWithIntl(\n    <PostListItem {...props} />\n  );\n\n  t.deepEqual(wrapper.prop('post'), props.post);\n  t.is(wrapper.prop('onClick'), props.onClick);\n  t.is(wrapper.prop('onDelete'), props.onDelete);\n});\n\ntest('calls onDelete', t => {\n  const onDelete = sinon.spy();\n  const wrapper = shallowWithIntl(\n    <PostListItem post={post} onDelete={onDelete} />\n  );\n\n  wrapper.find('.post-action > a').first().simulate('click');\n  t.truthy(onDelete.calledOnce);\n});\n"]}