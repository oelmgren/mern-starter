'use strict';

var _powerAssertRecorder = function () { function PowerAssertRecorder() { this.captured = []; } PowerAssertRecorder.prototype._capt = function _capt(value, espath) { this.captured.push({ value: value, espath: espath }); return value; }; PowerAssertRecorder.prototype._expr = function _expr(value, source) { var capturedValues = this.captured; this.captured = []; return { powerAssertContext: { value: value, events: capturedValues }, source: source }; }; return PowerAssertRecorder; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _reactIntl = require('react-intl');

var _PostCreateWidget = require('../../components/PostCreateWidget/PostCreateWidget');

var _reactIntlTestHelper = require('../../../../util/react-intl-test-helper');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var props = {
  addPost: function addPost() {},
  showAddPost: true
};

(0, _ava2.default)('renders properly', function (t) {
  var _rec = new _powerAssertRecorder(),
      _rec2 = new _powerAssertRecorder(),
      _rec3 = new _powerAssertRecorder(),
      _rec4 = new _powerAssertRecorder(),
      _rec5 = new _powerAssertRecorder();

  var wrapper = (0, _reactIntlTestHelper.shallowWithIntl)(_react2.default.createElement(_PostCreateWidget.PostCreateWidget, props));

  t.truthy(_rec._expr(_rec._capt(_rec._capt(wrapper, 'arguments/0/callee/object').hasClass('form'), 'arguments/0'), {
    content: 't.truthy(wrapper.hasClass(\'form\'))',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 18
  }));
  t.truthy(_rec2._expr(_rec2._capt(_rec2._capt(wrapper, 'arguments/0/callee/object').hasClass('appear'), 'arguments/0'), {
    content: 't.truthy(wrapper.hasClass(\'appear\'))',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 19
  }));
  t.truthy(_rec3._expr(_rec3._capt(_rec3._capt(_rec3._capt(_rec3._capt(wrapper, 'arguments/0/callee/object/callee/object/callee/object').find('h2'), 'arguments/0/callee/object/callee/object').first(), 'arguments/0/callee/object').containsMatchingElement(_react2.default.createElement(_reactIntl.FormattedMessage, { id: 'createNewPost' })), 'arguments/0'), {
    content: 't.truthy(wrapper.find(\'h2\').first().containsMatchingElement(<FormattedMessage id="createNewPost" />))',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 20
  }));
  t.is(_rec4._expr(_rec4._capt(_rec4._capt(_rec4._capt(wrapper, 'arguments/0/object/callee/object').find('input'), 'arguments/0/object').length, 'arguments/0'), {
    content: 't.is(wrapper.find(\'input\').length, 2)',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 21
  }), 2);
  t.is(_rec5._expr(_rec5._capt(_rec5._capt(_rec5._capt(wrapper, 'arguments/0/object/callee/object').find('textarea'), 'arguments/0/object').length, 'arguments/0'), {
    content: 't.is(wrapper.find(\'textarea\').length, 1)',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 22
  }), 1);
});

(0, _ava2.default)('hide when showAddPost is false', function (t) {
  var _rec6 = new _powerAssertRecorder();

  var wrapper = (0, _reactIntlTestHelper.mountWithIntl)(_react2.default.createElement(_PostCreateWidget.PostCreateWidget, props));

  wrapper.setProps({ showAddPost: false });
  t.falsy(_rec6._expr(_rec6._capt(_rec6._capt(wrapper, 'arguments/0/callee/object').hasClass('appear'), 'arguments/0'), {
    content: 't.falsy(wrapper.hasClass(\'appear\'))',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 31
  }));
});

(0, _ava2.default)('has correct props', function (t) {
  var _rec7 = new _powerAssertRecorder(),
      _rec8 = new _powerAssertRecorder(),
      _rec9 = new _powerAssertRecorder(),
      _rec10 = new _powerAssertRecorder();

  var wrapper = (0, _reactIntlTestHelper.mountWithIntl)(_react2.default.createElement(_PostCreateWidget.PostCreateWidget, props));

  t.is(_rec7._expr(_rec7._capt(_rec7._capt(wrapper, 'arguments/0/callee/object').prop('addPost'), 'arguments/0'), {
    content: 't.is(wrapper.prop(\'addPost\'), props.addPost)',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 39
  }), _rec8._expr(_rec8._capt(_rec8._capt(props, 'arguments/1/object').addPost, 'arguments/1'), {
    content: 't.is(wrapper.prop(\'addPost\'), props.addPost)',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 39
  }));
  t.is(_rec9._expr(_rec9._capt(_rec9._capt(wrapper, 'arguments/0/callee/object').prop('showAddPost'), 'arguments/0'), {
    content: 't.is(wrapper.prop(\'showAddPost\'), props.showAddPost)',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 40
  }), _rec10._expr(_rec10._capt(_rec10._capt(props, 'arguments/1/object').showAddPost, 'arguments/1'), {
    content: 't.is(wrapper.prop(\'showAddPost\'), props.showAddPost)',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 40
  }));
});

(0, _ava2.default)('calls addPost', function (t) {
  var _rec11 = new _powerAssertRecorder(),
      _rec12 = new _powerAssertRecorder();

  var addPost = _sinon2.default.spy();
  var wrapper = (0, _reactIntlTestHelper.mountWithIntl)(_react2.default.createElement(_PostCreateWidget.PostCreateWidget, { addPost: addPost, showAddPost: true }));

  wrapper.ref('name').value = 'David';
  wrapper.ref('title').value = 'Some Title';
  wrapper.ref('content').value = 'Bla Bla Bla';

  wrapper.find('a').first().simulate('click');
  t.truthy(_rec11._expr(_rec11._capt(_rec11._capt(addPost, 'arguments/0/object').calledOnce, 'arguments/0'), {
    content: 't.truthy(addPost.calledOnce)',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 54
  }));
  t.truthy(_rec12._expr(_rec12._capt(_rec12._capt(addPost, 'arguments/0/callee/object').calledWith('David', 'Some Title', 'Bla Bla Bla'), 'arguments/0'), {
    content: 't.truthy(addPost.calledWith(\'David\', \'Some Title\', \'Bla Bla Bla\'))',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 55
  }));
});

(0, _ava2.default)('empty form doesn\'t call addPost', function (t) {
  var _rec13 = new _powerAssertRecorder();

  var addPost = _sinon2.default.spy();
  var wrapper = (0, _reactIntlTestHelper.mountWithIntl)(_react2.default.createElement(_PostCreateWidget.PostCreateWidget, { addPost: addPost, showAddPost: true }));

  wrapper.find('a').first().simulate('click');
  t.falsy(_rec13._expr(_rec13._capt(_rec13._capt(addPost, 'arguments/0/object').called, 'arguments/0'), {
    content: 't.falsy(addPost.called)',
    filepath: 'client/modules/Post/__tests__/components/PostCreateWidget.spec.js',
    line: 65
  }));
});
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(props, 'props', '/Users/ollieelmgren/Desktop/coding_challenge/client/modules/Post/__tests__/components/PostCreateWidget.spec.js');

  __REACT_HOT_LOADER__.register(_powerAssertRecorder, '_powerAssertRecorder', '/Users/ollieelmgren/Desktop/coding_challenge/client/modules/Post/__tests__/components/PostCreateWidget.spec.js');
}();

;
//# sourceMappingURL=../../../../../node_modules/.cache/ava/65ff4ddd227785ffdb87255d1fe25540.js.map